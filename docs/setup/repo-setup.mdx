# Smart Repository Setup

The framework is designed to work with a **Hybrid Repository Strategy**, allowing you to contribute to the core framework (public) while keeping your personal data, sessions, and workspaces strictly private (private).

## The Hybrid Strategy (Public Core / Private Data)

To ensure privacy and collaboration, the framework encourages the following structure:

1.  **Origin (Private)**: Your personal repository. Contains:
    -   `sessions/`: Your daily logs and history.
    -   `workspaces/`: Your personal projects and notes.
    -   `.context/`: Your custom snapshots and AI memory.
    -   `logs/`: Local execution logs (never shared).
    -   **Target**: `git remote add origin <your-private-repo-url>`

2.  **Upstream (Public)**: The official framework repository. Contains:
    -   Core Agents and Skills.
    -   Documentation (`docs/`).
    -   Scripts (`scripts/`).
    -   **Target**: `git remote add upstream <framework-public-repo-url>`

### Setup Modes

You will be prompted to choose one of the following modes during installation (`python scripts/setup_repo.py`):

1.  **Hybrid (Recommended)**
    -   Configures `origin` for your private data.
    -   Configures `upstream` for framework updates.
    -   Sets up `.gitignore` to prevent leaking private data to upstream.

2.  **Private Only (Backup)**
    -   Single private repository.
    -   Good for personal use without intent to contribute features.

3.  **Local Git only**
    -   Initializes Git locally. No remote connections.
    -   Good for privacy-first, offline-only users.

## Contribution Workflow

If you want to request features or contribute code, please follow the **Standardized Contribution Protocol**:

-   **Feature Requests**: Must be submitted via Pull Request to the `upstream` repository.
-   **Privacy**: Ensure NO `sessions/` or `logs/` are included in your PR.
-   **Priority**: Features submitted via the standard PR format receive higher priority (+10% weight).

See [Contribution Guidelines](../workflow/contribution.mdx) for detailed instructions.

## Manual Usage

If you need to run the setup again:

```bash
python scripts/setup_repo.py
```

## Compatibility Cascade

To maximize compatibility, the setup flow uses this order:

1.  **GitHub CLI (`gh`)** when installed and authenticated.
2.  **PyGithub** when the library is available.
3.  **GitHub REST API** (native `urllib`) as a universal fallback.

Tokens are requested via hidden prompt and never stored.